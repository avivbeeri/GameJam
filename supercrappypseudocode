Handling multiple key input:

a key event happened!
	if a key was pressed
		which key?
		move in that direction.

	if a key was released
		check the state of keys.
		if a movement key is currently pressed
			keep moving according to said movement key.
		if no movement key is pressed
			stop all movement.

How it'll work:
Regardless of what's already pressed, pressing a movement key will set you moving in that direction.
Releasing a key will only stop you moving if it was the last movement key held down.
This could lead to a bug where it's possible to hold down one key and move in a different direction, but accounts for the vast majority of cases where people would press multiple movement keys at one time (IE twitch reaction direction changes).
(In case you want to try this bug out: press and hold left, press and release right should cause it.)